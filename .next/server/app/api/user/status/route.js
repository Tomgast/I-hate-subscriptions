/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/user/status/route";
exports.ids = ["app/api/user/status/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fuser%2Fstatus%2Froute&page=%2Fapi%2Fuser%2Fstatus%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuser%2Fstatus%2Froute.ts&appDir=C%3A%5CUsers%5CGebruiker%5CDocuments%5CGitHub%5CI-hate-subscriptions%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CGebruiker%5CDocuments%5CGitHub%5CI-hate-subscriptions&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fuser%2Fstatus%2Froute&page=%2Fapi%2Fuser%2Fstatus%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuser%2Fstatus%2Froute.ts&appDir=C%3A%5CUsers%5CGebruiker%5CDocuments%5CGitHub%5CI-hate-subscriptions%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CGebruiker%5CDocuments%5CGitHub%5CI-hate-subscriptions&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Gebruiker_Documents_GitHub_I_hate_subscriptions_src_app_api_user_status_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/user/status/route.ts */ \"(rsc)/./src/app/api/user/status/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/user/status/route\",\n        pathname: \"/api/user/status\",\n        filename: \"route\",\n        bundlePath: \"app/api/user/status/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Gebruiker\\\\Documents\\\\GitHub\\\\I-hate-subscriptions\\\\src\\\\app\\\\api\\\\user\\\\status\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Gebruiker_Documents_GitHub_I_hate_subscriptions_src_app_api_user_status_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/user/status/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ1c2VyJTJGc3RhdHVzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZ1c2VyJTJGc3RhdHVzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGdXNlciUyRnN0YXR1cyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNHZWJydWlrZXIlNUNEb2N1bWVudHMlNUNHaXRIdWIlNUNJLWhhdGUtc3Vic2NyaXB0aW9ucyU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDR2VicnVpa2VyJTVDRG9jdW1lbnRzJTVDR2l0SHViJTVDSS1oYXRlLXN1YnNjcmlwdGlvbnMmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ29EO0FBQ2pJO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FzaGNvbnRyb2wvPzliNmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcR2VicnVpa2VyXFxcXERvY3VtZW50c1xcXFxHaXRIdWJcXFxcSS1oYXRlLXN1YnNjcmlwdGlvbnNcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcdXNlclxcXFxzdGF0dXNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3VzZXIvc3RhdHVzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdXNlci9zdGF0dXNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3VzZXIvc3RhdHVzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcR2VicnVpa2VyXFxcXERvY3VtZW50c1xcXFxHaXRIdWJcXFxcSS1oYXRlLXN1YnNjcmlwdGlvbnNcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcdXNlclxcXFxzdGF0dXNcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3VzZXIvc3RhdHVzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fuser%2Fstatus%2Froute&page=%2Fapi%2Fuser%2Fstatus%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuser%2Fstatus%2Froute.ts&appDir=C%3A%5CUsers%5CGebruiker%5CDocuments%5CGitHub%5CI-hate-subscriptions%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CGebruiker%5CDocuments%5CGitHub%5CI-hate-subscriptions&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/user/status/route.ts":
/*!******************************************!*\
  !*** ./src/app/api/user/status/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./src/lib/auth.ts\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./src/lib/supabase.ts\");\n\n\n\n\nasync function GET(request) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session?.user?.email) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const userEmail = session.user.email;\n        // Get the latest user status from the database\n        const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_3__.createServerClient)();\n        const { data: userProfile, error } = await supabase.from(\"user_profiles\").select(\"has_paid, payment_date\").eq(\"email\", userEmail).single();\n        if (error || !userProfile) {\n            console.error(\"Error fetching user profile:\", error);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                isPaid: false,\n                error: \"Failed to fetch user status\"\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            isPaid: userProfile.has_paid || false,\n            paymentDate: userProfile.payment_date,\n            email: userEmail\n        });\n    } catch (error) {\n        console.error(\"Get user status error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            isPaid: false,\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS91c2VyL3N0YXR1cy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBdUQ7QUFDWDtBQUNKO0FBQ1c7QUFFNUMsZUFBZUksSUFBSUMsT0FBb0I7SUFDNUMsSUFBSTtRQUNGLE1BQU1DLFVBQVUsTUFBTUwsMkRBQWdCQSxDQUFDQyxrREFBV0E7UUFFbEQsSUFBSSxDQUFDSSxTQUFTQyxNQUFNQyxPQUFPO1lBQ3pCLE9BQU9SLHFEQUFZQSxDQUFDUyxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBZSxHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDcEU7UUFFQSxNQUFNQyxZQUFZTixRQUFRQyxJQUFJLENBQUNDLEtBQUs7UUFFcEMsK0NBQStDO1FBQy9DLE1BQU1LLFdBQVdWLGlFQUFrQkE7UUFDbkMsTUFBTSxFQUFFVyxNQUFNQyxXQUFXLEVBQUVMLEtBQUssRUFBRSxHQUFHLE1BQU1HLFNBQ3hDRyxJQUFJLENBQUMsaUJBQ0xDLE1BQU0sQ0FBQywwQkFDUEMsRUFBRSxDQUFDLFNBQVNOLFdBQ1pPLE1BQU07UUFFVCxJQUFJVCxTQUFTLENBQUNLLGFBQWE7WUFDekJLLFFBQVFWLEtBQUssQ0FBQyxnQ0FBZ0NBO1lBQzlDLE9BQU9WLHFEQUFZQSxDQUFDUyxJQUFJLENBQUM7Z0JBQ3ZCWSxRQUFRO2dCQUNSWCxPQUFPO1lBQ1Q7UUFDRjtRQUVBLE9BQU9WLHFEQUFZQSxDQUFDUyxJQUFJLENBQUM7WUFDdkJZLFFBQVFOLFlBQVlPLFFBQVEsSUFBSTtZQUNoQ0MsYUFBYVIsWUFBWVMsWUFBWTtZQUNyQ2hCLE9BQU9JO1FBQ1Q7SUFDRixFQUFFLE9BQU9GLE9BQU87UUFDZFUsUUFBUVYsS0FBSyxDQUFDLDBCQUEwQkE7UUFDeEMsT0FBT1YscURBQVlBLENBQUNTLElBQUksQ0FBQztZQUN2QlksUUFBUTtZQUNSWCxPQUFPO1FBQ1QsR0FBRztZQUFFQyxRQUFRO1FBQUk7SUFDbkI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2Nhc2hjb250cm9sLy4vc3JjL2FwcC9hcGkvdXNlci9zdGF0dXMvcm91dGUudHM/YWVlYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBnZXRTZXJ2ZXJTZXNzaW9uIH0gZnJvbSAnbmV4dC1hdXRoJ1xuaW1wb3J0IHsgYXV0aE9wdGlvbnMgfSBmcm9tICdAL2xpYi9hdXRoJ1xuaW1wb3J0IHsgY3JlYXRlU2VydmVyQ2xpZW50IH0gZnJvbSAnQC9saWIvc3VwYWJhc2UnXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucylcbiAgICBcbiAgICBpZiAoIXNlc3Npb24/LnVzZXI/LmVtYWlsKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KVxuICAgIH1cblxuICAgIGNvbnN0IHVzZXJFbWFpbCA9IHNlc3Npb24udXNlci5lbWFpbFxuICAgIFxuICAgIC8vIEdldCB0aGUgbGF0ZXN0IHVzZXIgc3RhdHVzIGZyb20gdGhlIGRhdGFiYXNlXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVTZXJ2ZXJDbGllbnQoKVxuICAgIGNvbnN0IHsgZGF0YTogdXNlclByb2ZpbGUsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3VzZXJfcHJvZmlsZXMnKVxuICAgICAgLnNlbGVjdCgnaGFzX3BhaWQsIHBheW1lbnRfZGF0ZScpXG4gICAgICAuZXEoJ2VtYWlsJywgdXNlckVtYWlsKVxuICAgICAgLnNpbmdsZSgpXG4gICAgXG4gICAgaWYgKGVycm9yIHx8ICF1c2VyUHJvZmlsZSkge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXNlciBwcm9maWxlOicsIGVycm9yKVxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICAgIGlzUGFpZDogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIHVzZXIgc3RhdHVzJ1xuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgaXNQYWlkOiB1c2VyUHJvZmlsZS5oYXNfcGFpZCB8fCBmYWxzZSxcbiAgICAgIHBheW1lbnREYXRlOiB1c2VyUHJvZmlsZS5wYXltZW50X2RhdGUsXG4gICAgICBlbWFpbDogdXNlckVtYWlsXG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdHZXQgdXNlciBzdGF0dXMgZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICBpc1BhaWQ6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIFxuICAgIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdldFNlcnZlclNlc3Npb24iLCJhdXRoT3B0aW9ucyIsImNyZWF0ZVNlcnZlckNsaWVudCIsIkdFVCIsInJlcXVlc3QiLCJzZXNzaW9uIiwidXNlciIsImVtYWlsIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwidXNlckVtYWlsIiwic3VwYWJhc2UiLCJkYXRhIiwidXNlclByb2ZpbGUiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJzaW5nbGUiLCJjb25zb2xlIiwiaXNQYWlkIiwiaGFzX3BhaWQiLCJwYXltZW50RGF0ZSIsInBheW1lbnRfZGF0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/user/status/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions),\n/* harmony export */   canAccessPremiumFeatures: () => (/* binding */ canAccessPremiumFeatures),\n/* harmony export */   createUser: () => (/* binding */ createUser),\n/* harmony export */   getUserByEmail: () => (/* binding */ getUserByEmail),\n/* harmony export */   isPremiumUser: () => (/* binding */ isPremiumUser),\n/* harmony export */   updateUserPaymentStatus: () => (/* binding */ updateUserPaymentStatus)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/google */ \"(rsc)/./node_modules/next-auth/providers/google.js\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./src/lib/supabase.ts\");\n\n\n\nconst authOptions = {\n    providers: [\n        (0,next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            clientId: process.env.GOOGLE_CLIENT_ID || \"\",\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET || \"\"\n        }),\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            name: \"credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                },\n                name: {\n                    label: \"Name\",\n                    type: \"text\",\n                    optional: true\n                },\n                isSignUp: {\n                    label: \"Is Sign Up\",\n                    type: \"text\",\n                    optional: true\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    return null;\n                }\n                const isSignUp = credentials.isSignUp === \"true\";\n                if (isSignUp) {\n                    // Sign up logic\n                    const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.createServerClient)();\n                    // Check if user already exists\n                    const { data: existingUser } = await supabase.from(\"user_profiles\").select(\"*\").eq(\"email\", credentials.email).single();\n                    if (existingUser) {\n                        throw new Error(\"User already exists\");\n                    }\n                    // Create user in Supabase Auth\n                    const { data: authData, error: authError } = await supabase.auth.admin.createUser({\n                        email: credentials.email,\n                        password: credentials.password,\n                        email_confirm: true,\n                        user_metadata: {\n                            full_name: credentials.name || credentials.email.split(\"@\")[0]\n                        }\n                    });\n                    if (authError || !authData.user) {\n                        throw new Error(authError?.message || \"Failed to create user\");\n                    }\n                    // User profile will be created automatically by the database trigger\n                    return {\n                        id: authData.user.id,\n                        email: authData.user.email,\n                        name: credentials.name || credentials.email.split(\"@\")[0],\n                        isPaid: false\n                    };\n                } else {\n                    // Sign in logic\n                    const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.createServerClient)();\n                    // Get user profile\n                    const { data: userProfile } = await supabase.from(\"user_profiles\").select(\"*\").eq(\"email\", credentials.email).single();\n                    if (!userProfile) {\n                        throw new Error(\"No user found\");\n                    }\n                    // Verify password with Supabase Auth\n                    const { data: authData, error: authError } = await supabase.auth.signInWithPassword({\n                        email: credentials.email,\n                        password: credentials.password\n                    });\n                    if (authError || !authData.user) {\n                        throw new Error(\"Invalid credentials\");\n                    }\n                    return {\n                        id: userProfile.id,\n                        email: userProfile.email,\n                        name: userProfile.full_name || userProfile.email.split(\"@\")[0],\n                        isPaid: userProfile.has_paid || false\n                    };\n                }\n            }\n        })\n    ],\n    callbacks: {\n        async jwt ({ token, user, account }) {\n            if (user && \"isPaid\" in user) {\n                token.isPaid = user.isPaid;\n            }\n            // Handle Google OAuth\n            if (account?.provider === \"google\" && user) {\n                const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.createServerClient)();\n                // Check if user exists, if not create them\n                const { data: existingUser } = await supabase.from(\"user_profiles\").select(\"*\").eq(\"email\", user.email).single();\n                if (!existingUser) {\n                    // Create user in Supabase Auth for OAuth\n                    const { data: authData, error: authError } = await supabase.auth.admin.createUser({\n                        email: user.email,\n                        email_confirm: true,\n                        user_metadata: {\n                            full_name: user.name || user.email.split(\"@\")[0]\n                        }\n                    });\n                    if (!authError && authData.user) {\n                        token.isPaid = false;\n                    }\n                } else {\n                    token.isPaid = existingUser.has_paid || false;\n                }\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (session.user) {\n                session.user.id = token.sub;\n                session.user.isPaid = token.isPaid;\n            }\n            return session;\n        }\n    },\n    pages: {\n        signIn: \"/auth/signin\"\n    },\n    session: {\n        strategy: \"jwt\"\n    }\n};\n// Helper functions for user management with Supabase\nasync function createUser(email, password, name) {\n    const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.createServerClient)();\n    // Create user in Supabase Auth\n    const { data: authData, error: authError } = await supabase.auth.admin.createUser({\n        email,\n        password,\n        email_confirm: true,\n        user_metadata: {\n            full_name: name\n        }\n    });\n    if (authError || !authData.user) {\n        throw new Error(authError?.message || \"Failed to create user\");\n    }\n    // User profile will be created automatically by the database trigger\n    return {\n        id: authData.user.id,\n        email: authData.user.email,\n        name,\n        isPaid: false,\n        createdAt: new Date().toISOString()\n    };\n}\nasync function getUserByEmail(email) {\n    const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.createServerClient)();\n    const { data: userProfile } = await supabase.from(\"user_profiles\").select(\"*\").eq(\"email\", email).single();\n    if (!userProfile) return null;\n    return {\n        id: userProfile.id,\n        email: userProfile.email,\n        name: userProfile.full_name || userProfile.email.split(\"@\")[0],\n        isPaid: userProfile.has_paid || false,\n        createdAt: userProfile.created_at\n    };\n}\nasync function updateUserPaymentStatus(userId, isPaid) {\n    const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.createServerClient)();\n    await supabase.from(\"user_profiles\").update({\n        has_paid: isPaid,\n        payment_date: isPaid ? new Date().toISOString() : null\n    }).eq(\"id\", userId);\n}\nfunction isPremiumUser(user) {\n    return user.isPaid;\n}\nfunction canAccessPremiumFeatures(user) {\n    return user.isPaid;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFhO0lBQ2hELE1BQU1PLFdBQVdsQixpRUFBa0JBO0lBRW5DLE1BQU0sRUFBRW1CLE1BQU1xQixXQUFXLEVBQUUsR0FBRyxNQUFNdEIsU0FDakNHLElBQUksQ0FBQyxpQkFDTEMsTUFBTSxDQUFDLEtBQ1BDLEVBQUUsQ0FBQyxTQUFTWixPQUNaYSxNQUFNO0lBRVQsSUFBSSxDQUFDZ0IsYUFBYSxPQUFPO0lBRXpCLE9BQU87UUFDTEYsSUFBSUUsWUFBWUYsRUFBRTtRQUNsQjNCLE9BQU82QixZQUFZN0IsS0FBSztRQUN4QkYsTUFBTStCLFlBQVlOLFNBQVMsSUFBSU0sWUFBWTdCLEtBQUssQ0FBQ3dCLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUM5REksUUFBUUMsWUFBWUUsUUFBUSxJQUFJO1FBQ2hDVyxXQUFXYixZQUFZaUIsVUFBVTtJQUNuQztBQUNGO0FBRU8sZUFBZUMsd0JBQXdCQyxNQUFjLEVBQUVwQixNQUFlO0lBQzNFLE1BQU1yQixXQUFXbEIsaUVBQWtCQTtJQUVuQyxNQUFNa0IsU0FDSEcsSUFBSSxDQUFDLGlCQUNMdUMsTUFBTSxDQUFDO1FBQ05sQixVQUFVSDtRQUNWc0IsY0FBY3RCLFNBQVMsSUFBSWUsT0FBT0MsV0FBVyxLQUFLO0lBQ3BELEdBQ0NoQyxFQUFFLENBQUMsTUFBTW9DO0FBQ2Q7QUFFTyxTQUFTRyxjQUFjMUIsSUFBVTtJQUN0QyxPQUFPQSxLQUFLRyxNQUFNO0FBQ3BCO0FBRU8sU0FBU3dCLHlCQUF5QjNCLElBQVU7SUFDakQsT0FBT0EsS0FBS0csTUFBTTtBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Nhc2hjb250cm9sLy4vc3JjL2xpYi9hdXRoLnRzPzY2OTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEF1dGhPcHRpb25zIH0gZnJvbSAnbmV4dC1hdXRoJ1xuaW1wb3J0IENyZWRlbnRpYWxzUHJvdmlkZXIgZnJvbSAnbmV4dC1hdXRoL3Byb3ZpZGVycy9jcmVkZW50aWFscydcbmltcG9ydCBHb29nbGVQcm92aWRlciBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2dvb2dsZSdcbmltcG9ydCB7IGNvbXBhcmUsIGhhc2ggfSBmcm9tICdiY3J5cHRqcydcbmltcG9ydCB7IGNyZWF0ZVNlcnZlckNsaWVudCB9IGZyb20gJ0AvbGliL3N1cGFiYXNlJ1xuXG4vLyBEYXRhYmFzZSB1c2VyIGludGVyZmFjZVxuaW50ZXJmYWNlIFVzZXIge1xuICBpZDogc3RyaW5nXG4gIGVtYWlsOiBzdHJpbmdcbiAgcGFzc3dvcmQ/OiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIGlzUGFpZDogYm9vbGVhblxuICBjcmVhdGVkQXQ6IHN0cmluZ1xufVxuXG5leHBvcnQgY29uc3QgYXV0aE9wdGlvbnM6IE5leHRBdXRoT3B0aW9ucyA9IHtcbiAgcHJvdmlkZXJzOiBbXG4gICAgR29vZ2xlUHJvdmlkZXIoe1xuICAgICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfSUQgfHwgJycsXG4gICAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfU0VDUkVUIHx8ICcnLFxuICAgIH0pLFxuICAgIENyZWRlbnRpYWxzUHJvdmlkZXIoe1xuICAgICAgbmFtZTogJ2NyZWRlbnRpYWxzJyxcbiAgICAgIGNyZWRlbnRpYWxzOiB7XG4gICAgICAgIGVtYWlsOiB7IGxhYmVsOiAnRW1haWwnLCB0eXBlOiAnZW1haWwnIH0sXG4gICAgICAgIHBhc3N3b3JkOiB7IGxhYmVsOiAnUGFzc3dvcmQnLCB0eXBlOiAncGFzc3dvcmQnIH0sXG4gICAgICAgIG5hbWU6IHsgbGFiZWw6ICdOYW1lJywgdHlwZTogJ3RleHQnLCBvcHRpb25hbDogdHJ1ZSB9LFxuICAgICAgICBpc1NpZ25VcDogeyBsYWJlbDogJ0lzIFNpZ24gVXAnLCB0eXBlOiAndGV4dCcsIG9wdGlvbmFsOiB0cnVlIH0sXG4gICAgICB9LFxuICAgICAgYXN5bmMgYXV0aG9yaXplKGNyZWRlbnRpYWxzKSB7XG4gICAgICAgIGlmICghY3JlZGVudGlhbHM/LmVtYWlsIHx8ICFjcmVkZW50aWFscz8ucGFzc3dvcmQpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaXNTaWduVXAgPSBjcmVkZW50aWFscy5pc1NpZ25VcCA9PT0gJ3RydWUnXG5cbiAgICAgICAgaWYgKGlzU2lnblVwKSB7XG4gICAgICAgICAgLy8gU2lnbiB1cCBsb2dpY1xuICAgICAgICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlU2VydmVyQ2xpZW50KClcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDaGVjayBpZiB1c2VyIGFscmVhZHkgZXhpc3RzXG4gICAgICAgICAgY29uc3QgeyBkYXRhOiBleGlzdGluZ1VzZXIgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAuZnJvbSgndXNlcl9wcm9maWxlcycpXG4gICAgICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgICAgIC5lcSgnZW1haWwnLCBjcmVkZW50aWFscy5lbWFpbClcbiAgICAgICAgICAgIC5zaW5nbGUoKVxuXG4gICAgICAgICAgaWYgKGV4aXN0aW5nVXNlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc2VyIGFscmVhZHkgZXhpc3RzJylcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDcmVhdGUgdXNlciBpbiBTdXBhYmFzZSBBdXRoXG4gICAgICAgICAgY29uc3QgeyBkYXRhOiBhdXRoRGF0YSwgZXJyb3I6IGF1dGhFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5hZG1pbi5jcmVhdGVVc2VyKHtcbiAgICAgICAgICAgIGVtYWlsOiBjcmVkZW50aWFscy5lbWFpbCxcbiAgICAgICAgICAgIHBhc3N3b3JkOiBjcmVkZW50aWFscy5wYXNzd29yZCxcbiAgICAgICAgICAgIGVtYWlsX2NvbmZpcm06IHRydWUsXG4gICAgICAgICAgICB1c2VyX21ldGFkYXRhOiB7XG4gICAgICAgICAgICAgIGZ1bGxfbmFtZTogY3JlZGVudGlhbHMubmFtZSB8fCBjcmVkZW50aWFscy5lbWFpbC5zcGxpdCgnQCcpWzBdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcblxuICAgICAgICAgIGlmIChhdXRoRXJyb3IgfHwgIWF1dGhEYXRhLnVzZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihhdXRoRXJyb3I/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBjcmVhdGUgdXNlcicpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gVXNlciBwcm9maWxlIHdpbGwgYmUgY3JlYXRlZCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBkYXRhYmFzZSB0cmlnZ2VyXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiBhdXRoRGF0YS51c2VyLmlkLFxuICAgICAgICAgICAgZW1haWw6IGF1dGhEYXRhLnVzZXIuZW1haWwhLFxuICAgICAgICAgICAgbmFtZTogY3JlZGVudGlhbHMubmFtZSB8fCBjcmVkZW50aWFscy5lbWFpbC5zcGxpdCgnQCcpWzBdLFxuICAgICAgICAgICAgaXNQYWlkOiBmYWxzZSxcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gU2lnbiBpbiBsb2dpY1xuICAgICAgICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlU2VydmVyQ2xpZW50KClcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBHZXQgdXNlciBwcm9maWxlXG4gICAgICAgICAgY29uc3QgeyBkYXRhOiB1c2VyUHJvZmlsZSB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgIC5mcm9tKCd1c2VyX3Byb2ZpbGVzJylcbiAgICAgICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAgICAgLmVxKCdlbWFpbCcsIGNyZWRlbnRpYWxzLmVtYWlsKVxuICAgICAgICAgICAgLnNpbmdsZSgpXG5cbiAgICAgICAgICBpZiAoIXVzZXJQcm9maWxlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVzZXIgZm91bmQnKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFZlcmlmeSBwYXNzd29yZCB3aXRoIFN1cGFiYXNlIEF1dGhcbiAgICAgICAgICBjb25zdCB7IGRhdGE6IGF1dGhEYXRhLCBlcnJvcjogYXV0aEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25JbldpdGhQYXNzd29yZCh7XG4gICAgICAgICAgICBlbWFpbDogY3JlZGVudGlhbHMuZW1haWwsXG4gICAgICAgICAgICBwYXNzd29yZDogY3JlZGVudGlhbHMucGFzc3dvcmRcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgaWYgKGF1dGhFcnJvciB8fCAhYXV0aERhdGEudXNlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNyZWRlbnRpYWxzJylcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IHVzZXJQcm9maWxlLmlkLFxuICAgICAgICAgICAgZW1haWw6IHVzZXJQcm9maWxlLmVtYWlsLFxuICAgICAgICAgICAgbmFtZTogdXNlclByb2ZpbGUuZnVsbF9uYW1lIHx8IHVzZXJQcm9maWxlLmVtYWlsLnNwbGl0KCdAJylbMF0sXG4gICAgICAgICAgICBpc1BhaWQ6IHVzZXJQcm9maWxlLmhhc19wYWlkIHx8IGZhbHNlLFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9KSxcbiAgXSxcbiAgY2FsbGJhY2tzOiB7XG4gICAgYXN5bmMgand0KHsgdG9rZW4sIHVzZXIsIGFjY291bnQgfSkge1xuICAgICAgaWYgKHVzZXIgJiYgJ2lzUGFpZCcgaW4gdXNlcikge1xuICAgICAgICB0b2tlbi5pc1BhaWQgPSB1c2VyLmlzUGFpZFxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBIYW5kbGUgR29vZ2xlIE9BdXRoXG4gICAgICBpZiAoYWNjb3VudD8ucHJvdmlkZXIgPT09ICdnb29nbGUnICYmIHVzZXIpIHtcbiAgICAgICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVTZXJ2ZXJDbGllbnQoKVxuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgdXNlciBleGlzdHMsIGlmIG5vdCBjcmVhdGUgdGhlbVxuICAgICAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nVXNlciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgndXNlcl9wcm9maWxlcycpXG4gICAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgICAgLmVxKCdlbWFpbCcsIHVzZXIuZW1haWwhKVxuICAgICAgICAgIC5zaW5nbGUoKVxuXG4gICAgICAgIGlmICghZXhpc3RpbmdVc2VyKSB7XG4gICAgICAgICAgLy8gQ3JlYXRlIHVzZXIgaW4gU3VwYWJhc2UgQXV0aCBmb3IgT0F1dGhcbiAgICAgICAgICBjb25zdCB7IGRhdGE6IGF1dGhEYXRhLCBlcnJvcjogYXV0aEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmFkbWluLmNyZWF0ZVVzZXIoe1xuICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwhLFxuICAgICAgICAgICAgZW1haWxfY29uZmlybTogdHJ1ZSxcbiAgICAgICAgICAgIHVzZXJfbWV0YWRhdGE6IHtcbiAgICAgICAgICAgICAgZnVsbF9uYW1lOiB1c2VyLm5hbWUgfHwgdXNlci5lbWFpbCEuc3BsaXQoJ0AnKVswXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBpZiAoIWF1dGhFcnJvciAmJiBhdXRoRGF0YS51c2VyKSB7XG4gICAgICAgICAgICB0b2tlbi5pc1BhaWQgPSBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0b2tlbi5pc1BhaWQgPSBleGlzdGluZ1VzZXIuaGFzX3BhaWQgfHwgZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdG9rZW5cbiAgICB9LFxuICAgIGFzeW5jIHNlc3Npb24oeyBzZXNzaW9uLCB0b2tlbiB9KSB7XG4gICAgICBpZiAoc2Vzc2lvbi51c2VyKSB7XG4gICAgICAgIC8vIEFkZCBjdXN0b20gcHJvcGVydGllcyB0byBzZXNzaW9uXG4gICAgICAgIDsoc2Vzc2lvbi51c2VyIGFzIGFueSkuaWQgPSB0b2tlbi5zdWIhXG4gICAgICAgIDsoc2Vzc2lvbi51c2VyIGFzIGFueSkuaXNQYWlkID0gdG9rZW4uaXNQYWlkIGFzIGJvb2xlYW5cbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXNzaW9uXG4gICAgfSxcbiAgfSxcbiAgcGFnZXM6IHtcbiAgICBzaWduSW46ICcvYXV0aC9zaWduaW4nLFxuICB9LFxuICBzZXNzaW9uOiB7XG4gICAgc3RyYXRlZ3k6ICdqd3QnLFxuICB9LFxufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvciB1c2VyIG1hbmFnZW1lbnQgd2l0aCBTdXBhYmFzZVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVVzZXIoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZywgbmFtZTogc3RyaW5nKTogUHJvbWlzZTxVc2VyPiB7XG4gIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlU2VydmVyQ2xpZW50KClcbiAgXG4gIC8vIENyZWF0ZSB1c2VyIGluIFN1cGFiYXNlIEF1dGhcbiAgY29uc3QgeyBkYXRhOiBhdXRoRGF0YSwgZXJyb3I6IGF1dGhFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5hZG1pbi5jcmVhdGVVc2VyKHtcbiAgICBlbWFpbCxcbiAgICBwYXNzd29yZCxcbiAgICBlbWFpbF9jb25maXJtOiB0cnVlLFxuICAgIHVzZXJfbWV0YWRhdGE6IHtcbiAgICAgIGZ1bGxfbmFtZTogbmFtZVxuICAgIH1cbiAgfSlcblxuICBpZiAoYXV0aEVycm9yIHx8ICFhdXRoRGF0YS51c2VyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGF1dGhFcnJvcj8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGNyZWF0ZSB1c2VyJylcbiAgfVxuXG4gIC8vIFVzZXIgcHJvZmlsZSB3aWxsIGJlIGNyZWF0ZWQgYXV0b21hdGljYWxseSBieSB0aGUgZGF0YWJhc2UgdHJpZ2dlclxuICByZXR1cm4ge1xuICAgIGlkOiBhdXRoRGF0YS51c2VyLmlkLFxuICAgIGVtYWlsOiBhdXRoRGF0YS51c2VyLmVtYWlsISxcbiAgICBuYW1lLFxuICAgIGlzUGFpZDogZmFsc2UsXG4gICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJCeUVtYWlsKGVtYWlsOiBzdHJpbmcpOiBQcm9taXNlPFVzZXIgfCBudWxsPiB7XG4gIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlU2VydmVyQ2xpZW50KClcbiAgXG4gIGNvbnN0IHsgZGF0YTogdXNlclByb2ZpbGUgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ3VzZXJfcHJvZmlsZXMnKVxuICAgIC5zZWxlY3QoJyonKVxuICAgIC5lcSgnZW1haWwnLCBlbWFpbClcbiAgICAuc2luZ2xlKClcblxuICBpZiAoIXVzZXJQcm9maWxlKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiB7XG4gICAgaWQ6IHVzZXJQcm9maWxlLmlkLFxuICAgIGVtYWlsOiB1c2VyUHJvZmlsZS5lbWFpbCxcbiAgICBuYW1lOiB1c2VyUHJvZmlsZS5mdWxsX25hbWUgfHwgdXNlclByb2ZpbGUuZW1haWwuc3BsaXQoJ0AnKVswXSxcbiAgICBpc1BhaWQ6IHVzZXJQcm9maWxlLmhhc19wYWlkIHx8IGZhbHNlLFxuICAgIGNyZWF0ZWRBdDogdXNlclByb2ZpbGUuY3JlYXRlZF9hdCxcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlVXNlclBheW1lbnRTdGF0dXModXNlcklkOiBzdHJpbmcsIGlzUGFpZDogYm9vbGVhbik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZVNlcnZlckNsaWVudCgpXG4gIFxuICBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCd1c2VyX3Byb2ZpbGVzJylcbiAgICAudXBkYXRlKHsgXG4gICAgICBoYXNfcGFpZDogaXNQYWlkLFxuICAgICAgcGF5bWVudF9kYXRlOiBpc1BhaWQgPyBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgOiBudWxsXG4gICAgfSlcbiAgICAuZXEoJ2lkJywgdXNlcklkKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQcmVtaXVtVXNlcih1c2VyOiBVc2VyKTogYm9vbGVhbiB7XG4gIHJldHVybiB1c2VyLmlzUGFpZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FuQWNjZXNzUHJlbWl1bUZlYXR1cmVzKHVzZXI6IFVzZXIpOiBib29sZWFuIHtcbiAgcmV0dXJuIHVzZXIuaXNQYWlkXG59XG4iXSwibmFtZXMiOlsiQ3JlZGVudGlhbHNQcm92aWRlciIsIkdvb2dsZVByb3ZpZGVyIiwiY3JlYXRlU2VydmVyQ2xpZW50IiwiYXV0aE9wdGlvbnMiLCJwcm92aWRlcnMiLCJjbGllbnRJZCIsInByb2Nlc3MiLCJlbnYiLCJHT09HTEVfQ0xJRU5UX0lEIiwiY2xpZW50U2VjcmV0IiwiR09PR0xFX0NMSUVOVF9TRUNSRVQiLCJuYW1lIiwiY3JlZGVudGlhbHMiLCJlbWFpbCIsImxhYmVsIiwidHlwZSIsInBhc3N3b3JkIiwib3B0aW9uYWwiLCJpc1NpZ25VcCIsImF1dGhvcml6ZSIsInN1cGFiYXNlIiwiZGF0YSIsImV4aXN0aW5nVXNlciIsImZyb20iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsIkVycm9yIiwiYXV0aERhdGEiLCJlcnJvciIsImF1dGhFcnJvciIsImF1dGgiLCJhZG1pbiIsImNyZWF0ZVVzZXIiLCJlbWFpbF9jb25maXJtIiwidXNlcl9tZXRhZGF0YSIsImZ1bGxfbmFtZSIsInNwbGl0IiwidXNlciIsIm1lc3NhZ2UiLCJpZCIsImlzUGFpZCIsInVzZXJQcm9maWxlIiwic2lnbkluV2l0aFBhc3N3b3JkIiwiaGFzX3BhaWQiLCJjYWxsYmFja3MiLCJqd3QiLCJ0b2tlbiIsImFjY291bnQiLCJwcm92aWRlciIsInNlc3Npb24iLCJzdWIiLCJwYWdlcyIsInNpZ25JbiIsInN0cmF0ZWd5IiwiY3JlYXRlZEF0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZ2V0VXNlckJ5RW1haWwiLCJjcmVhdGVkX2F0IiwidXBkYXRlVXNlclBheW1lbnRTdGF0dXMiLCJ1c2VySWQiLCJ1cGRhdGUiLCJwYXltZW50X2RhdGUiLCJpc1ByZW1pdW1Vc2VyIiwiY2FuQWNjZXNzUHJlbWl1bUZlYXR1cmVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase.ts":
/*!*****************************!*\
  !*** ./src/lib/supabase.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ createClient),\n/* harmony export */   createServerClient: () => (/* binding */ createServerClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\n// Client-side Supabase client\nconst createClient = ()=>{\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(\"https://kumslhaqyummcgytyvxv.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt1bXNsaGFxeXVtbWNneXR5dnh2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQxNjM1ODQsImV4cCI6MjA2OTczOTU4NH0.g23LOhitLncQkReB0mWh1GaPM1PO714-swLpQNIkpGc\");\n};\n// Server-side Supabase client (for API routes)\nconst createServerClient = ()=>{\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(\"https://kumslhaqyummcgytyvxv.supabase.co\", process.env.SUPABASE_SERVICE_ROLE_KEY, {\n        auth: {\n            autoRefreshToken: false,\n            persistSession: false\n        }\n    });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N1cGFiYXNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0RTtBQUU1RSw4QkFBOEI7QUFDdkIsTUFBTUEsZUFBZTtJQUMxQixPQUFPQyxtRUFBb0JBLENBQ3pCQywwQ0FBb0MsRUFDcENBLGtOQUF5QztBQUU3QyxFQUFDO0FBRUQsK0NBQStDO0FBQ3hDLE1BQU1JLHFCQUFxQjtJQUNoQyxPQUFPTCxtRUFBb0JBLENBQ3pCQywwQ0FBb0MsRUFDcENBLFFBQVFDLEdBQUcsQ0FBQ0kseUJBQXlCLEVBQ3JDO1FBQ0VDLE1BQU07WUFDSkMsa0JBQWtCO1lBQ2xCQyxnQkFBZ0I7UUFDbEI7SUFDRjtBQUVKLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYXNoY29udHJvbC8uL3NyYy9saWIvc3VwYWJhc2UudHM/MDZlMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgYXMgY3JlYXRlU3VwYWJhc2VDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnXG5cbi8vIENsaWVudC1zaWRlIFN1cGFiYXNlIGNsaWVudFxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNsaWVudCA9ICgpID0+IHtcbiAgcmV0dXJuIGNyZWF0ZVN1cGFiYXNlQ2xpZW50KFxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCEsXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhXG4gIClcbn1cblxuLy8gU2VydmVyLXNpZGUgU3VwYWJhc2UgY2xpZW50IChmb3IgQVBJIHJvdXRlcylcbmV4cG9ydCBjb25zdCBjcmVhdGVTZXJ2ZXJDbGllbnQgPSAoKSA9PiB7XG4gIHJldHVybiBjcmVhdGVTdXBhYmFzZUNsaWVudChcbiAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxuICAgIHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkhLFxuICAgIHtcbiAgICAgIGF1dGg6IHtcbiAgICAgICAgYXV0b1JlZnJlc2hUb2tlbjogZmFsc2UsXG4gICAgICAgIHBlcnNpc3RTZXNzaW9uOiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgKVxufVxuXG4vLyBEYXRhYmFzZSB0eXBlcyAoeW91J2xsIGdlbmVyYXRlIHRoZXNlIGxhdGVyKVxuZXhwb3J0IHR5cGUgRGF0YWJhc2UgPSB7XG4gIHB1YmxpYzoge1xuICAgIFRhYmxlczoge1xuICAgICAgc3Vic2NyaXB0aW9uczoge1xuICAgICAgICBSb3c6IHtcbiAgICAgICAgICBpZDogc3RyaW5nXG4gICAgICAgICAgdXNlcl9pZDogc3RyaW5nXG4gICAgICAgICAgbmFtZTogc3RyaW5nXG4gICAgICAgICAgcHJpY2U6IG51bWJlclxuICAgICAgICAgIGN1cnJlbmN5OiBzdHJpbmdcbiAgICAgICAgICBiaWxsaW5nX2N5Y2xlOiBzdHJpbmdcbiAgICAgICAgICBuZXh0X2JpbGxpbmdfZGF0ZTogc3RyaW5nXG4gICAgICAgICAgY2F0ZWdvcnk6IHN0cmluZ1xuICAgICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgd2Vic2l0ZTogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIHJlbWluZGVyX2RheXM6IG51bWJlclxuICAgICAgICAgIGlzX2FjdGl2ZTogYm9vbGVhblxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICAgICAgICAgIHVwZGF0ZWRfYXQ6IHN0cmluZ1xuICAgICAgICB9XG4gICAgICAgIEluc2VydDoge1xuICAgICAgICAgIGlkPzogc3RyaW5nXG4gICAgICAgICAgdXNlcl9pZDogc3RyaW5nXG4gICAgICAgICAgbmFtZTogc3RyaW5nXG4gICAgICAgICAgcHJpY2U6IG51bWJlclxuICAgICAgICAgIGN1cnJlbmN5Pzogc3RyaW5nXG4gICAgICAgICAgYmlsbGluZ19jeWNsZTogc3RyaW5nXG4gICAgICAgICAgbmV4dF9iaWxsaW5nX2RhdGU6IHN0cmluZ1xuICAgICAgICAgIGNhdGVnb3J5OiBzdHJpbmdcbiAgICAgICAgICBkZXNjcmlwdGlvbj86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICB3ZWJzaXRlPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIHJlbWluZGVyX2RheXM/OiBudW1iZXJcbiAgICAgICAgICBpc19hY3RpdmU/OiBib29sZWFuXG4gICAgICAgICAgY3JlYXRlZF9hdD86IHN0cmluZ1xuICAgICAgICAgIHVwZGF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgICBVcGRhdGU6IHtcbiAgICAgICAgICBpZD86IHN0cmluZ1xuICAgICAgICAgIHVzZXJfaWQ/OiBzdHJpbmdcbiAgICAgICAgICBuYW1lPzogc3RyaW5nXG4gICAgICAgICAgcHJpY2U/OiBudW1iZXJcbiAgICAgICAgICBjdXJyZW5jeT86IHN0cmluZ1xuICAgICAgICAgIGJpbGxpbmdfY3ljbGU/OiBzdHJpbmdcbiAgICAgICAgICBuZXh0X2JpbGxpbmdfZGF0ZT86IHN0cmluZ1xuICAgICAgICAgIGNhdGVnb3J5Pzogc3RyaW5nXG4gICAgICAgICAgZGVzY3JpcHRpb24/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgd2Vic2l0ZT86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICByZW1pbmRlcl9kYXlzPzogbnVtYmVyXG4gICAgICAgICAgaXNfYWN0aXZlPzogYm9vbGVhblxuICAgICAgICAgIGNyZWF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgICB1cGRhdGVkX2F0Pzogc3RyaW5nXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHVzZXJfcHJvZmlsZXM6IHtcbiAgICAgICAgUm93OiB7XG4gICAgICAgICAgaWQ6IHN0cmluZ1xuICAgICAgICAgIGVtYWlsOiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgbmFtZTogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGlzX3BhaWQ6IGJvb2xlYW5cbiAgICAgICAgICBwYXltZW50X2RhdGU6IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgICBJbnNlcnQ6IHtcbiAgICAgICAgICBpZDogc3RyaW5nXG4gICAgICAgICAgZW1haWw/OiBzdHJpbmcgfCBudWxsXG4gICAgICAgICAgbmFtZT86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBpc19wYWlkPzogYm9vbGVhblxuICAgICAgICAgIHBheW1lbnRfZGF0ZT86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBjcmVhdGVkX2F0Pzogc3RyaW5nXG4gICAgICAgIH1cbiAgICAgICAgVXBkYXRlOiB7XG4gICAgICAgICAgaWQ/OiBzdHJpbmdcbiAgICAgICAgICBlbWFpbD86IHN0cmluZyB8IG51bGxcbiAgICAgICAgICBuYW1lPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGlzX3BhaWQ/OiBib29sZWFuXG4gICAgICAgICAgcGF5bWVudF9kYXRlPzogc3RyaW5nIHwgbnVsbFxuICAgICAgICAgIGNyZWF0ZWRfYXQ/OiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsImNyZWF0ZVN1cGFiYXNlQ2xpZW50IiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiY3JlYXRlU2VydmVyQ2xpZW50IiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsImF1dGgiLCJhdXRvUmVmcmVzaFRva2VuIiwicGVyc2lzdFNlc3Npb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/ws","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions","vendor-chunks/isows","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/oauth","vendor-chunks/preact","vendor-chunks/uuid","vendor-chunks/yallist","vendor-chunks/preact-render-to-string","vendor-chunks/cookie","vendor-chunks/@panva","vendor-chunks/oidc-token-hash"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fuser%2Fstatus%2Froute&page=%2Fapi%2Fuser%2Fstatus%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuser%2Fstatus%2Froute.ts&appDir=C%3A%5CUsers%5CGebruiker%5CDocuments%5CGitHub%5CI-hate-subscriptions%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CGebruiker%5CDocuments%5CGitHub%5CI-hate-subscriptions&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();