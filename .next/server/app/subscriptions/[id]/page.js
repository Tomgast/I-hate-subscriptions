(()=>{var e={};e.id=99,e.ids=[99],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44521:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>o}),s(67618),s(59463),s(35866);var i=s(23191),r=s(88716),a=s(37922),l=s.n(a),n=s(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let o=["",{children:["subscriptions",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,67618)),"C:\\Users\\Gebruiker\\Documents\\GitHub\\I-hate-subscriptions\\src\\app\\subscriptions\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,59463)),"C:\\Users\\Gebruiker\\Documents\\GitHub\\I-hate-subscriptions\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\Gebruiker\\Documents\\GitHub\\I-hate-subscriptions\\src\\app\\subscriptions\\[id]\\page.tsx"],m="/subscriptions/[id]/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new i.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/subscriptions/[id]/page",pathname:"/subscriptions/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},25407:(e,t,s)=>{Promise.resolve().then(s.bind(s,93473))},98091:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});let i=(0,s(76557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},93473:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var i=s(10326),r=s(17577),a=s(35047),l=s(1797),n=s(74723),c=s(74064),o=s(770),d=s(55927),m=s(87888),u=s(54014),x=s(71821),p=s(37358),h=s(40765);let g=o.Ry({name:o.Z_().min(1,"Name is required").max(100,"Name must be less than 100 characters"),price:o.Rx().min(.01,"Price must be greater than 0"),currency:o.Z_().default("USD"),billingCycle:o.Km(["monthly","yearly","weekly","daily","quarterly"]),nextBillingDate:o.Z_().min(1,"Next billing date is required"),category:o.Km(["streaming","software","gaming","fitness","utilities","food","education","finance","productivity","entertainment","news","music","cloud_storage","communication","other"]),description:o.Z_().optional(),website:o.Z_().url("Please enter a valid URL").optional().or(o.i0("")),reminderDays:o.Rx().min(0).max(30).default(3),tags:o.Z_().optional(),isActive:o.O7().default(!0)});function b({subscription:e,onSuccess:t,onCancel:s}){let[a,o]=(0,r.useState)(!1),{register:b,handleSubmit:y,formState:{errors:f},watch:j}=(0,n.cI)({resolver:(0,c.F)(g),defaultValues:{name:e.name,price:e.price,currency:e.currency,billingCycle:e.billingCycle,nextBillingDate:e.nextBillingDate.split("T")[0],category:e.category,description:e.description||"",website:e.website||"",reminderDays:e.reminderDays,tags:e.tags?.join(", ")||"",isActive:e.isActive}}),v=j("billingCycle"),N=j("price"),w=async s=>{o(!0);try{let i=s.tags?s.tags.split(",").map(e=>e.trim()).filter(Boolean):[];l.o.updateSubscription(e.id,{name:s.name,price:s.price,currency:s.currency,billingCycle:s.billingCycle,nextBillingDate:s.nextBillingDate,category:s.category,description:s.description||void 0,website:s.website||void 0,reminderDays:s.reminderDays,tags:i.length>0?i:void 0,isActive:s.isActive}),t&&t()}catch(e){console.error("Error updating subscription:",e)}finally{o(!1)}};return(0,i.jsxs)("form",{onSubmit:y(w),className:"space-y-6",children:[(0,i.jsxs)("div",{className:"card",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Basic Information"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Service Name *"}),i.jsx("input",{type:"text",...b("name"),placeholder:"e.g., Netflix, Spotify, Adobe Creative Cloud",className:"input-field"}),f.name&&(0,i.jsxs)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[i.jsx(m.Z,{className:"h-4 w-4"}),f.name.message]})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category *"}),i.jsx("select",{...b("category"),className:"input-field",children:Object.entries(d.H).map(([e,{label:t}])=>i.jsx("option",{value:e,children:t},e))})]})]}),(0,i.jsxs)("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),i.jsx("textarea",{...b("description"),rows:3,placeholder:"Optional description or notes about this subscription",className:"input-field"})]}),(0,i.jsxs)("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Website"}),(0,i.jsxs)("div",{className:"relative",children:[i.jsx(u.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx("input",{type:"url",...b("website"),placeholder:"https://example.com",className:"input-field pl-10"})]}),f.website&&(0,i.jsxs)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[i.jsx(m.Z,{className:"h-4 w-4"}),f.website.message]})]})]}),(0,i.jsxs)("div",{className:"card",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Pricing Information"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price *"}),(0,i.jsxs)("div",{className:"relative",children:[i.jsx(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx("input",{type:"number",step:"0.01",min:"0",...b("price",{valueAsNumber:!0}),placeholder:"0.00",className:"input-field pl-10"})]}),f.price&&(0,i.jsxs)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[i.jsx(m.Z,{className:"h-4 w-4"}),f.price.message]})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Billing Cycle *"}),i.jsx("select",{...b("billingCycle"),className:"input-field",children:d.Z.map(({value:e,label:t})=>i.jsx("option",{value:e,children:t},e))})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Currency"}),(0,i.jsxs)("select",{...b("currency"),className:"input-field",children:[i.jsx("option",{value:"USD",children:"USD ($)"}),i.jsx("option",{value:"EUR",children:"EUR (â‚¬)"}),i.jsx("option",{value:"GBP",children:"GBP (\xa3)"}),i.jsx("option",{value:"CAD",children:"CAD (C$)"}),i.jsx("option",{value:"AUD",children:"AUD (A$)"})]})]})]}),N&&i.jsx("div",{className:"mt-4 p-3 bg-primary-50 dark:bg-primary-900/20 rounded-lg",children:(0,i.jsxs)("p",{className:"text-sm text-primary-700 dark:text-primary-300",children:[i.jsx("strong",{children:"Monthly equivalent:"})," $",(()=>{if(!N)return 0;let e=d.Z.find(e=>e.value===v);return N*(e?.multiplier||1)})().toFixed(2)," per month"]})}),(0,i.jsxs)("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Next Billing Date *"}),(0,i.jsxs)("div",{className:"relative",children:[i.jsx(p.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx("input",{type:"date",...b("nextBillingDate"),className:"input-field pl-10"})]}),f.nextBillingDate&&(0,i.jsxs)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[i.jsx(m.Z,{className:"h-4 w-4"}),f.nextBillingDate.message]})]})]}),(0,i.jsxs)("div",{className:"card",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Additional Settings"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Reminder (days before renewal)"}),i.jsx("input",{type:"number",min:"0",max:"30",...b("reminderDays",{valueAsNumber:!0}),className:"input-field"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags"}),(0,i.jsxs)("div",{className:"relative",children:[i.jsx(h.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx("input",{type:"text",...b("tags"),placeholder:"work, personal, essential (comma-separated)",className:"input-field pl-10"})]})]})]}),i.jsx("div",{className:"mt-4",children:(0,i.jsxs)("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",...b("isActive"),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),i.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"This subscription is currently active"})]})})]}),(0,i.jsxs)("div",{className:"flex justify-end space-x-4",children:[s&&i.jsx("button",{type:"button",onClick:s,className:"btn-secondary",disabled:a,children:"Cancel"}),i.jsx("button",{type:"submit",disabled:a,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Saving...":"Save Changes"})]})]})}var y=s(86333),f=s(98091),j=s(90434);function v(){(0,a.useParams)();let e=(0,a.useRouter)(),[t,s]=(0,r.useState)(null),[n,c]=(0,r.useState)(!1),[o,d]=(0,r.useState)(!1),m=async()=>{if(t){c(!0);try{l.o.deleteSubscription(t.id),e.push("/dashboard")}catch(e){console.error("Error deleting subscription:",e)}finally{c(!1)}}};return t?(0,i.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsxs)(j.default,{href:"/dashboard",className:"inline-flex items-center text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 mb-4",children:[i.jsx(y.Z,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),(0,i.jsxs)("div",{className:"flex justify-between items-start",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["Edit ",t.name]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Update your subscription details"})]}),(0,i.jsxs)("button",{onClick:()=>d(!0),className:"btn-secondary text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2",children:[i.jsx(f.Z,{className:"h-4 w-4"}),"Delete"]})]})]}),i.jsx(b,{subscription:t,onSuccess:()=>e.push("/dashboard")}),o&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,i.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Delete Subscription"}),(0,i.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:['Are you sure you want to delete "',t.name,'"? This action cannot be undone.']}),(0,i.jsxs)("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{onClick:()=>d(!1),className:"btn-secondary",disabled:n,children:"Cancel"}),i.jsx("button",{onClick:m,disabled:n,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50",children:n?"Deleting...":"Delete"})]})]})})]}):i.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,i.jsxs)("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Subscription Not Found"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"The subscription you're looking for doesn't exist."}),i.jsx(j.default,{href:"/dashboard",className:"btn-primary",children:"Back to Dashboard"})]})})}},1797:(e,t,s)=>{"use strict";s.d(t,{o:()=>r});class i{getSubscriptions(){return[]}saveSubscriptions(e){}addSubscription(e){let t={...e,id:crypto.randomUUID(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},s=this.getSubscriptions();return s.push(t),this.saveSubscriptions(s),t}updateSubscription(e,t){let s=this.getSubscriptions(),i=s.findIndex(t=>t.id===e);return -1===i?null:(s[i]={...s[i],...t,updatedAt:new Date().toISOString()},this.saveSubscriptions(s),s[i])}deleteSubscription(e){let t=this.getSubscriptions(),s=t.filter(t=>t.id!==e);return s.length!==t.length&&(this.saveSubscriptions(s),!0)}getStats(){let e=this.getSubscriptions().filter(e=>e.isActive),t=0,s=0,i={streaming:0,software:0,gaming:0,fitness:0,utilities:0,food:0,education:0,finance:0,productivity:0,entertainment:0,news:0,music:0,cloud_storage:0,communication:0,other:0};e.forEach(e=>{let r=this.getMonthlyAmount(e);t+=r,s+=12*r,i[e.category]+=r});let r=new Date;r.setDate(r.getDate()+7);let a=e.filter(e=>{let t=new Date(e.nextBillingDate);return t<=r&&t>=new Date}).length,l=this.generateMonthlyTrend(e);return{totalMonthly:t,totalYearly:s,activeCount:e.length,dueSoon:a,categoryBreakdown:i,monthlyTrend:l}}getMonthlyAmount(e){let{price:t,billingCycle:s}=e;switch(s){case"monthly":default:return t;case"yearly":return t/12;case"quarterly":return t/3;case"weekly":return 4.33*t;case"daily":return 30*t}}generateMonthlyTrend(e){let t=[],s=new Date;for(let i=11;i>=0;i--){let r=new Date(s.getFullYear(),s.getMonth()-i,1),a=r.toLocaleDateString("en-US",{month:"short",year:"2-digit"}),l=e.filter(e=>new Date(e.createdAt)<=r).reduce((e,t)=>e+this.getMonthlyAmount(t),0);t.push({month:a,amount:l})}return t}getUpcomingRenewals(e=7){let t=this.getSubscriptions().filter(e=>e.isActive),s=new Date;return s.setDate(s.getDate()+e),t.filter(e=>{let t=new Date(e.nextBillingDate);return t<=s&&t>=new Date}).sort((e,t)=>new Date(e.nextBillingDate).getTime()-new Date(t.nextBillingDate).getTime())}searchSubscriptions(e,t){let s=this.getSubscriptions();if(e.trim()){let t=e.toLowerCase();s=s.filter(e=>e.name.toLowerCase().includes(t)||e.description?.toLowerCase().includes(t)||e.tags?.some(e=>e.toLowerCase().includes(t)))}return t&&(t.category&&(s=s.filter(e=>e.category===t.category)),void 0!==t.minPrice&&(s=s.filter(e=>this.getMonthlyAmount(e)>=t.minPrice)),void 0!==t.maxPrice&&(s=s.filter(e=>this.getMonthlyAmount(e)<=t.maxPrice)),void 0!==t.isActive&&(s=s.filter(e=>e.isActive===t.isActive))),s}bulkImport(e){let t=e.map(e=>({...e,id:crypto.randomUUID(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})),s=[...this.getSubscriptions(),...t];return this.saveSubscriptions(s),t}exportData(){return JSON.stringify(this.getSubscriptions(),null,2)}clearAllData(){}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}notifyListeners(){this.listeners.forEach(e=>e())}constructor(){this.storageKey="subscriptions",this.listeners=new Set}}let r=new i},55927:(e,t,s)=>{"use strict";s.d(t,{H:()=>i,Z:()=>r});let i={streaming:{label:"Streaming & Media",color:"#ef4444"},software:{label:"Software & Tools",color:"#3b82f6"},gaming:{label:"Gaming",color:"#8b5cf6"},fitness:{label:"Health & Fitness",color:"#10b981"},utilities:{label:"Utilities",color:"#f59e0b"},food:{label:"Food & Delivery",color:"#f97316"},education:{label:"Education",color:"#06b6d4"},finance:{label:"Finance & Banking",color:"#84cc16"},productivity:{label:"Productivity",color:"#6366f1"},entertainment:{label:"Entertainment",color:"#ec4899"},news:{label:"News & Media",color:"#64748b"},music:{label:"Music & Audio",color:"#14b8a6"},cloud_storage:{label:"Cloud Storage",color:"#a855f7"},communication:{label:"Communication",color:"#22c55e"},other:{label:"Other",color:"#6b7280"}},r=[{value:"monthly",label:"Monthly",multiplier:1},{value:"yearly",label:"Yearly",multiplier:1/12},{value:"quarterly",label:"Quarterly",multiplier:1/3},{value:"weekly",label:"Weekly",multiplier:4.33},{value:"daily",label:"Daily",multiplier:30}]},67618:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});let i=(0,s(68570).createProxy)(String.raw`C:\Users\Gebruiker\Documents\GitHub\I-hate-subscriptions\src\app\subscriptions\[id]\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[276,395,659,683],()=>s(44521));module.exports=i})();